GSEAPY
========

Gseapy is a python wrapper for **GESA**. 

`Gene Set Enrichment Analysis <http://software.broadinstitute.org/gsea/index.jsp>`_ (GSEA) 
is a computational method that determines whether an a priori defined set of genes shows 
statistically significant, concordant differences between two biological states (e.g. phenotypes). 

The full ``GSEA`` is far too extensive to describe here; see
`GSEA  <http://www.broadinstitute.org/cancer/software/gsea/wiki/index.php/Main_Page>`_ documentation for more information.


However, the R version of GSEA had not been updated since 2006. 
Although the best choice of GSEA is the desktop Java version, this version did not provide means to 
modify plots, like legends, ticks......


Gseapy is aim to become a python wrapper of GSEA. It is used for convenient GO 
enrichments and produce **publishable quality figures** from python. For use in ``python`` projects.


Current version of gseapy only reproduce the ``GSEA`` plots generated by ``GSEA`` desktop version. 


**Plan for gseapy**

#. Reproduce the GSEA plot from GSEA desktop output.

#. Future version of gesapy will include the statistical testing module which will be the same as ``GSEA``.

#. Enhancement of ``GSEA`` will be considered. If you would like to contribute, please @BioNinja on ``Github``. 



GSEA desktop version output: 
-------------------------------------------------
This is an example of GSEA desktop application output

.. figure:: enplot_OCT4_KD.png

    Generated by ``GSEA`` desktop version


gseapy output
-----------------------------------------------
Using the same algorithm by ``GSEA``, gseapy reproduce the example above.

.. figure:: gseapy_OCT4_KD.png

   
   
   Generated by gseapy
   
   **GSEAPY plots are in PDF formats.**

   You can modify ``GSEA`` plots easily in .pdf files. Please Enjoy.



Installation
------------

| Install package from pypi and download 

.. code:: shell

   $ pip install gseapy

| You may instead want to use the development version from Github, by running

.. code:: shell

   $ pip install git+git://github.com/BioNinja/gseapy.git#egg=gseapy

Dependency
--------------
* Python 2.7 or 3.3+

Mandatory
~~~~~~~~~

* Numpy 
* Pandas 
* Matplotlib
* Beautifulsoup4

You may also need **lxml, html5lib**, if you could not parse xml files. 


   
Run GSEAPY
-----------------

| Gseapy will parse the GSEA desktop output directory. 
| The only input is the location of of each GSEA result files inside the **edb** folder. 
| For more details,see below. 


For help:
~~~~~~~~~~

.. code:: shell
   
   $ gseapy --help 
   
   usage: gseapy [-h] -i   -o   [-w ] [--figsize width height] [--version]

   optional arguments:

    -h, --help            show this help message and exit

    -i  , --inDir         The GSEA desktop results directroy that you want to
                          reproduce the figure
 
    -o  , --outDir        The gseapy output directory

    -w  , --weight        Weighted_score type of rank_metrics.Choose from (0, 1,
                          1.5, 2),default: 1

    --figsize width height
                          The figsize keyword argument need two parameter to define.
                          Default: 6.5 6

    --version             show program's version number and exit




For commandline usage:
~~~~~~~~~~~~~~~~~~~~~~~

.. code:: shell
  
  $ gseapy -i path/to/gsea_edb_file_location -o gesapy_out

  # example
  $ gseapy -i data -o test



Run gseapy inside python:
~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. code:: python
  
   import gseapy
   gseapy.gsea('data','test')
   
